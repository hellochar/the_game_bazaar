<!DOCTYPE html>
<html>
    <head>
        {% include "lib/head-game.html" %}
        <link href="{{ STATIC_URL }}game/css/game.css" rel="stylesheet">
        <script>
            $(function() {
                // DOM manipulation
                $().ready(function() {
                    $('#game-container').hide();
                    $('#lobby-container').show();
                });
                var game = new Game();
                game.init();
                window.game = game;
            });
        </script>
    </head>
    <body>
        <!-- START NAVIGATION BAR -->
        {% include "lib/navbar.html" %}
        <script type="text/javascript">
            //mark page's active tab
            $('#navbar-play').addClass('active');
        </script>
        <!-- LOBBY CONTAINER -->
        <div id="game-id" val="{{ game_id }}"></div>
        <div id="map-id" val="{{ map_id }}"></div>
        <div id="player-id" val="{{ player_id }}"></div>
        <div id="lobby-container">
            <h1>Welcome to the lobby!</h1>

            <p>
            {% if isHost %}
                You are the host! and therefore have this button:
                <button id="start-game">Start Game!</button>
                Also, your game id is {{ game_id }}
            {% else %}
                You have joined the game!
            {% endif %}
            <h3>And the players are..........</h3>
            <ul id='player-usernames'>
                {% for key, value in players_json %}
                    <li id='player-slot-{{ key }}'>{{ value }}</li>
                {% endfor %}
            </ul>
            </p>
        </div>

        {% include "lib/game-canvas.html" %}
    </body>
</html>
